<div>
  <div class="small-12 columns">
    <div class="small-2 columns">
      <label class="inline">Change all</label>
    </div>
    <div class="small-3 columns">
      <select
        ng-model="plugin.multiChanger.prefix"
        ng-options="name as value.short for (name, value) in plugin.relationValues.labels"
        ng-change="plugin.buildLabel(plugin.multiChanger)">
        <option value=""></option>
      </select>
    </div>
    <div class="small-2 columns">
      <label>
      <select
        ng-model="plugin.multiChanger.suffix"
        ng-options="name as value.short for (name, value) in plugin.relationValues.suffixes"
        ng-change="plugin.buildLabel(plugin.multiChanger)">
        <option value=""></option>
      </select>
    </div>
    <div class="small-1 columns end">
      <button
        class="tiny radius"
        ng-disabled="plugin.multiChangerEmpty()"
        ng-click="plugin.applyMultiChanger()">
        Apply
      </button>
    </div>
  </div>
</div>


<div ng-repeat="(id, obj) in plugin.currentLabels()">
  <div class="small-12 columns">
    <p token-with-id value="obj.string" token-id="id"/p>
    <ul class="nested-dropdown">
      <li>{{ plugin.prefixWithAncestors(obj.relation) }}
        <ul
          nested-menu-collection
          property="plugin.usePrefix()"
          current="obj.relation"
          ancestors="plugin.defineAncestors()"
          all="plugin.relationValues.labels">
        </ul>
      </li>
    </ul>
    <ul class="nested-dropdown">
      <li>{{ plugin.suffixOrPlaceholder(obj.relation) }}
        <ul
          nested-menu-collection
          property="plugin.useSuffix()"
          current="obj.relation"
          all="plugin.relationValues.suffixes">
        </ul>
      </li>
    </ul>
  </div>
</div>

